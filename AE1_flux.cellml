<?xml version='1.0'?>
<!--Link in Exposure:  https://models.physiomeproject.org/e/2ff/Weinstein_2000_AE1.cellml/view
 Original Paper: Weinstein, Alan M. "A mathematical model of the outer medullary collecting duct of the rat." American Journal of Physiology-Renal Physiology 279.1 (2000): F24-F45.-->
<model name="AE1_flux" xmlns="http://www.cellml.org/cellml/1.1#" xmlns:cellml="http://www.cellml.org/cellml/1.1#">
    <component name="AE1">
        <variable name="A_Apical" public_interface="in" units="m2"/>
        <variable name="v_cell" public_interface="in" units="m3"/>
        <variable name="HCO3_i" public_interface="in" units="M"/>
        <variable name="HCO3_m" public_interface="in" units="M"/>
        <variable name="Cl_i" public_interface="in" units="M"/>
        <variable name="Cl_m" public_interface="in" units="M"/>
        <variable name="J_AE1_HCO3" public_interface="out" units="umol_per_s"/>
        <variable name="J_AE1_Cl" public_interface="out" units="umol_per_s"/>
        <variable name="I_AE1_HCO3" public_interface="out" units="uA"/>
        <variable name="I_AE1_Cl" public_interface="out" units="uA"/>
        <variable name="J_HCO3_influx" public_interface="out" units="umol_per_s"/>
        <variable name="J_Cl_influx" public_interface="out" units="umol_per_s"/>
        <variable initial_value="198e-3" name="K_HCO3_m" units="M"/>
        <variable initial_value="198e-3" name="K_HCO3_i" units="M"/>
        <variable initial_value="50e-3" name="K_Cl_s" units="M"/>
        <variable initial_value="50e-3" name="K_Cl_i" units="M"/>
        <variable initial_value="1247" name="P_HCO3_m" units="per_second"/>
        <variable initial_value="135" name="P_HCO3_i" units="per_second"/>
        <variable initial_value="562" name="P_Cl_s" units="per_second"/>
        <variable initial_value="61" name="P_Cl_i" units="per_second"/>
        <variable name="beta_ext" units="dimensionless"/>
        <variable name="beta_int" units="dimensionless"/>
        <variable name="gamma_ext" units="dimensionless"/>
        <variable name="gamma_int" units="dimensionless"/>
        <variable name="sigma" units="per_second"/>
        <variable initial_value="2e-4" name="x_Tmax" units="M"/>
        <variable initial_value="172e-3" name="K_I" units="M"/>
        <variable name="x_T" units="M"/>
        <variable name="x_ext" units="M"/>
        <variable name="x_int" units="M"/>
        <variable name="Jo_bm" units="umol_per_s"/>
        <variable name="Ji_bm" units="umol_per_s"/>
        <variable name="Js_bm" units="umol_per_s"/>
        <variable name="Jo_cm" units="umol_per_s"/>
        <variable name="Ji_cm" units="umol_per_s"/>
        <variable name="Js_cm" units="umol_per_s"/>
        <variable name="F" public_interface="in" units="C_per_mol"/>
        <math xmlns="http://www.w3.org/1998/Math/MathML">
            <apply>
                <eq/>
                <ci>x_T</ci>
                <apply>
                    <divide/>
                    <ci>x_Tmax</ci>
                    <apply>
                        <plus/>
                        <cn cellml:units="dimensionless">1</cn>
                        <apply>
                            <divide/>
                            <ci>HCO3_i</ci>
                            <ci>K_I</ci>
                        </apply>
                    </apply>
                </apply>
            </apply>
            <apply>
                <eq/>
                <ci>beta_ext</ci>
                <apply>
                    <divide/>
                    <ci>HCO3_m</ci>
                    <ci>K_HCO3_m</ci>
                </apply>
            </apply>
            <apply>
                <eq/>
                <ci>beta_int</ci>
                <apply>
                    <divide/>
                    <ci>HCO3_i</ci>
                    <ci>K_HCO3_i</ci>
                </apply>
            </apply>
            <apply>
                <eq/>
                <ci>gamma_ext</ci>
                <apply>
                    <divide/>
                    <ci>Cl_m</ci>
                    <ci>K_Cl_s</ci>
                </apply>
            </apply>
            <apply>
                <eq/>
                <ci>gamma_int</ci>
                <apply>
                    <divide/>
                    <ci>Cl_i</ci>
                    <ci>K_Cl_i</ci>
                </apply>
            </apply>
            <apply>
                <eq/>
                <ci>sigma</ci>
                <apply>
                    <plus/>
                    <apply>
                        <times/>
                        <apply>
                            <plus/>
                            <cn cellml:units="dimensionless">1</cn>
                            <ci>beta_ext</ci>
                            <ci>gamma_ext</ci>
                        </apply>
                        <apply>
                            <plus/>
                            <apply>
                                <times/>
                                <ci>P_HCO3_i</ci>
                                <ci>beta_int</ci>
                            </apply>
                            <apply>
                                <times/>
                                <ci>P_Cl_i</ci>
                                <ci>gamma_int</ci>
                            </apply>
                        </apply>
                    </apply>
                    <apply>
                        <times/>
                        <apply>
                            <plus/>
                            <cn cellml:units="dimensionless">1</cn>
                            <ci>beta_int</ci>
                            <ci>gamma_int</ci>
                        </apply>
                        <apply>
                            <plus/>
                            <apply>
                                <times/>
                                <ci>P_HCO3_m</ci>
                                <ci>beta_ext</ci>
                            </apply>
                            <apply>
                                <times/>
                                <ci>P_Cl_s</ci>
                                <ci>gamma_ext</ci>
                            </apply>
                        </apply>
                    </apply>
                </apply>
            </apply>
            <!--1e9 is for unit conversion-->
            <apply>
                <eq/>
                <ci>J_AE1_HCO3</ci>
                <apply>
                    <times/>
                    <apply>
                        <divide/>
                        <apply>
                            <times/>
                            <cn cellml:units="dimensionless" type="e-notation">1<sep/>9</cn>
                            <ci>v_cell</ci>
                            <ci>x_Tmax</ci>
                        </apply>
                        <ci>sigma</ci>
                    </apply>
                    <apply>
                        <minus/>
                        <apply>
                            <times/>
                            <ci>P_HCO3_i</ci>
                            <ci>beta_int</ci>
                            <ci>P_Cl_s</ci>
                            <ci>gamma_ext</ci>
                        </apply>
                        <apply>
                            <times/>
                            <ci>P_HCO3_m</ci>
                            <ci>beta_ext</ci>
                            <ci>P_Cl_i</ci>
                            <ci>gamma_int</ci>
                        </apply>
                    </apply>
                </apply>
            </apply>
            <apply>
                <eq/>
                <ci>J_AE1_Cl</ci>
                <ci>J_AE1_HCO3</ci>
            </apply>
            <apply>
                <eq/>
                <ci>I_AE1_HCO3</ci>
                <apply>
                    <times/>
                    <ci>J_AE1_HCO3</ci>
                    <ci>F</ci>
                </apply>
            </apply>
            <apply>
                <eq/>
                <ci>I_AE1_Cl</ci>
                <apply>
                    <times/>
                    <ci>J_AE1_Cl</ci>
                    <ci>F</ci>
                </apply>
            </apply>
            <apply>
                <eq/>
                <ci>x_ext</ci>
                <apply>
                    <divide/>
                    <apply>
                        <times/>
                        <ci>x_T</ci>
                        <apply>
                            <plus/>
                            <apply>
                                <times/>
                                <ci>P_HCO3_i</ci>
                                <ci>beta_int</ci>
                            </apply>
                            <apply>
                                <times/>
                                <ci>P_Cl_i</ci>
                                <ci>gamma_int</ci>
                            </apply>
                        </apply>
                    </apply>
                    <ci>sigma</ci>
                </apply>
            </apply>
            <apply>
                <eq/>
                <ci>x_int</ci>
                <apply>
                    <divide/>
                    <apply>
                        <times/>
                        <ci>x_T</ci>
                        <apply>
                            <plus/>
                            <apply>
                                <times/>
                                <ci>P_HCO3_m</ci>
                                <ci>beta_ext</ci>
                            </apply>
                            <apply>
                                <times/>
                                <ci>P_Cl_s</ci>
                                <ci>gamma_ext</ci>
                            </apply>
                        </apply>
                    </apply>
                    <ci>sigma</ci>
                </apply>
            </apply>
            <apply>
                <eq/>
                <ci>J_HCO3_influx</ci>
                <apply>
                    <times/>
                    <apply>
                        <divide/>
                        <ci>x_T</ci>
                        <ci>sigma</ci>
                    </apply>
                    <ci>P_HCO3_m</ci>
                    <ci>beta_ext</ci>
                    <apply>
                        <plus/>
                        <apply>
                            <times/>
                            <ci>P_HCO3_i</ci>
                            <ci>beta_int</ci>
                        </apply>
                        <apply>
                            <times/>
                            <ci>P_Cl_i</ci>
                            <ci>gamma_int</ci>
                        </apply>
                    </apply>
                </apply>
            </apply>
            <apply>
                <eq/>
                <ci>J_Cl_influx</ci>
                <apply>
                    <times/>
                    <apply>
                        <divide/>
                        <ci>x_T</ci>
                        <ci>sigma</ci>
                    </apply>
                    <ci>P_Cl_s</ci>
                    <ci>gamma_ext</ci>
                    <apply>
                        <plus/>
                        <apply>
                            <times/>
                            <ci>P_HCO3_i</ci>
                            <ci>beta_int</ci>
                        </apply>
                        <apply>
                            <times/>
                            <ci>P_Cl_i</ci>
                            <ci>gamma_int</ci>
                        </apply>
                    </apply>
                </apply>
            </apply>
            <apply>
                <eq/>
                <ci>Jo_bm</ci>
                <apply>
                    <power/>
                    <apply>
                        <times/>
                        <apply>
                            <divide/>
                            <cn cellml:units="dimensionless">1</cn>
                            <ci>x_T</ci>
                        </apply>
                        <apply>
                            <plus/>
                            <apply>
                                <divide/>
                                <cn cellml:units="dimensionless">1</cn>
                                <ci>P_HCO3_m</ci>
                            </apply>
                            <apply>
                                <divide/>
                                <cn cellml:units="dimensionless">1</cn>
                                <ci>P_HCO3_i</ci>
                            </apply>
                            <apply>
                                <divide/>
                                <ci>K_HCO3_i</ci>
                                <apply>
                                    <times/>
                                    <ci>P_HCO3_i</ci>
                                    <ci>HCO3_i</ci>
                                </apply>
                            </apply>
                        </apply>
                    </apply>
                    <apply>
                        <minus/>
                        <cn cellml:units="dimensionless">1</cn>
                    </apply>
                </apply>
            </apply>
            <apply>
                <eq/>
                <ci>Ji_bm</ci>
                <apply>
                    <power/>
                    <apply>
                        <times/>
                        <apply>
                            <divide/>
                            <cn cellml:units="dimensionless">1</cn>
                            <ci>x_T</ci>
                        </apply>
                        <apply>
                            <plus/>
                            <apply>
                                <divide/>
                                <cn cellml:units="dimensionless">1</cn>
                                <ci>P_HCO3_m</ci>
                            </apply>
                            <apply>
                                <divide/>
                                <cn cellml:units="dimensionless">1</cn>
                                <ci>P_HCO3_i</ci>
                            </apply>
                            <apply>
                                <divide/>
                                <ci>K_HCO3_m</ci>
                                <apply>
                                    <times/>
                                    <ci>P_HCO3_m</ci>
                                    <ci>HCO3_m</ci>
                                </apply>
                            </apply>
                        </apply>
                    </apply>
                    <apply>
                        <minus/>
                        <cn cellml:units="dimensionless">1</cn>
                    </apply>
                </apply>
            </apply>
            <apply>
                <eq/>
                <ci>Js_bm</ci>
                <apply>
                    <power/>
                    <apply>
                        <times/>
                        <apply>
                            <divide/>
                            <cn cellml:units="dimensionless">1</cn>
                            <ci>x_T</ci>
                        </apply>
                        <apply>
                            <plus/>
                            <apply>
                                <divide/>
                                <cn cellml:units="dimensionless">1</cn>
                                <ci>P_HCO3_m</ci>
                            </apply>
                            <apply>
                                <divide/>
                                <cn cellml:units="dimensionless">1</cn>
                                <ci>P_HCO3_i</ci>
                            </apply>
                        </apply>
                    </apply>
                    <apply>
                        <minus/>
                        <cn cellml:units="dimensionless">1</cn>
                    </apply>
                </apply>
            </apply>
            <apply>
                <eq/>
                <ci>Jo_cm</ci>
                <apply>
                    <power/>
                    <apply>
                        <times/>
                        <apply>
                            <divide/>
                            <cn cellml:units="dimensionless">1</cn>
                            <ci>x_T</ci>
                        </apply>
                        <apply>
                            <plus/>
                            <apply>
                                <divide/>
                                <cn cellml:units="dimensionless">1</cn>
                                <ci>P_Cl_s</ci>
                            </apply>
                            <apply>
                                <divide/>
                                <cn cellml:units="dimensionless">1</cn>
                                <ci>P_Cl_i</ci>
                            </apply>
                            <apply>
                                <divide/>
                                <ci>K_Cl_i</ci>
                                <apply>
                                    <times/>
                                    <ci>P_Cl_i</ci>
                                    <ci>Cl_i</ci>
                                </apply>
                            </apply>
                        </apply>
                    </apply>
                    <apply>
                        <minus/>
                        <cn cellml:units="dimensionless">1</cn>
                    </apply>
                </apply>
            </apply>
            <apply>
                <eq/>
                <ci>Ji_cm</ci>
                <apply>
                    <power/>
                    <apply>
                        <times/>
                        <apply>
                            <divide/>
                            <cn cellml:units="dimensionless">1</cn>
                            <ci>x_T</ci>
                        </apply>
                        <apply>
                            <plus/>
                            <apply>
                                <divide/>
                                <cn cellml:units="dimensionless">1</cn>
                                <ci>P_Cl_s</ci>
                            </apply>
                            <apply>
                                <divide/>
                                <cn cellml:units="dimensionless">1</cn>
                                <ci>P_Cl_i</ci>
                            </apply>
                            <apply>
                                <divide/>
                                <ci>K_Cl_s</ci>
                                <apply>
                                    <times/>
                                    <ci>P_Cl_s</ci>
                                    <ci>Cl_m</ci>
                                </apply>
                            </apply>
                        </apply>
                    </apply>
                    <apply>
                        <minus/>
                        <cn cellml:units="dimensionless">1</cn>
                    </apply>
                </apply>
            </apply>
            <apply>
                <eq/>
                <ci>Js_cm</ci>
                <apply>
                    <power/>
                    <apply>
                        <times/>
                        <apply>
                            <divide/>
                            <cn cellml:units="dimensionless">1</cn>
                            <ci>x_T</ci>
                        </apply>
                        <apply>
                            <plus/>
                            <apply>
                                <divide/>
                                <cn cellml:units="dimensionless">1</cn>
                                <ci>P_Cl_s</ci>
                            </apply>
                            <apply>
                                <divide/>
                                <cn cellml:units="dimensionless">1</cn>
                                <ci>P_Cl_i</ci>
                            </apply>
                        </apply>
                    </apply>
                    <apply>
                        <minus/>
                        <cn cellml:units="dimensionless">1</cn>
                    </apply>
                </apply>
            </apply>
        </math>
    </component>
</model>
